{"ast":null,"code":"\"use strict\";\n\nmodule.exports = exports = unpublish;\nexports.usage = 'Lists all published binaries (requires aws-sdk)';\n\nvar fs = require('fs');\n\nvar log = require('npmlog');\n\nvar versioning = require('./util/versioning.js');\n\nvar s3_setup = require('./util/s3_setup.js');\n\nvar config = require('rc')(\"node_pre_gyp\", {\n  acl: \"public-read\"\n});\n\nfunction unpublish(gyp, argv, callback) {\n  var package_json = JSON.parse(fs.readFileSync('./package.json'));\n  var opts = versioning.evaluate(package_json, gyp.opts);\n  s3_setup.detect(opts.hosted_path, config);\n  var s3_opts = {\n    Bucket: config.bucket,\n    Prefix: config.prefix\n  };\n}","map":null,"metadata":{},"sourceType":"script"}